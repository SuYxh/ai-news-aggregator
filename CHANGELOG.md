# Changelog

## [1.1.0] - 2026-02-28

### 新增功能

#### 阅读历史功能优化
- **文章标题展示**：阅读历史弹窗现在显示文章的真实标题，优先级为 `title_zh` > `title_en` > `title_bilingual`，让历史记录更有意义
- **清空确认弹窗**：点击"清空"按钮时，新增确认弹窗，告知用户清空操作的影响（删除记录数量、已读标记移除、无法恢复）
- **完整时间显示**：阅读时间改为完整的年月日时分秒格式，如 `2026年02月28日 21:17:12 阅读`

#### UI/UX 改进
- **移除 Header 已读计数徽章**：简化 Header 界面，历史按钮不再显示数字徽章
- **阅读历史布局优化**：链接 URL 和阅读时间采用两端对齐布局，时间与外链图标作为一组显示

#### 阅读追踪功能
- **已读状态追踪**：点击文章后自动标记为已读，卡片显示"已读"标签，方便区分已阅读内容
- **阅读历史记录**：记录所有阅读过的文章，支持查看历史、清空记录等操作

#### 收藏功能
- **文章收藏**：在新闻卡片上点击星标按钮即可收藏/取消收藏文章
- **收藏列表**：Header 新增收藏入口，点击打开收藏列表弹窗
- **收藏管理**：支持单条取消收藏、清空全部收藏（带确认弹窗）
- **收藏时间显示**：完整的年月日时分秒格式，如 `2026年02月28日 21:17:12 收藏`
- **本地持久化**：收藏数据存储在 localStorage，最多保留 500 条

#### 数据导出功能
- **收藏导出**：在收藏列表弹窗中点击"导出"按钮，可将收藏数据导出为 JSON 文件
- **阅读历史导出**：在阅读历史弹窗中点击"导出"按钮，可将阅读历史导出为 JSON 文件
- **导出格式**：包含 URL、标题、时间戳、格式化时间等完整信息

#### YouTube 数据源
- **新增 YouTube 平台**：支持抓取 YouTube 博主的最新视频
- **内置博主频道**：
  - Peter Yang - AI 实用教程和访谈
  - Lenny's Podcast - 产品和创业访谈
  - 20VC - 风险投资和创业播客
- **数据获取**：通过 YouTube RSS feed 免费获取，无需 API Key
- **丰富的元数据**：包含视频 ID、缩略图、观看次数等信息

#### 新智元数据源
- **新增新智元平台**：国内领先的 AI 资讯媒体
- **数据获取**：通过 WordPress REST API 获取最新文章
- **更新频率**：每天多篇深度 AI 报道

#### NewsNow 数据源时间优化
- **精确时间获取**：通过调用原始平台 API 获取文章的真实发布时间
  - HackerNews：通过 Firebase API 获取精确发布时间
  - GitHub：通过 GitHub API 获取仓库最后推送时间
  - 掘金(juejin)：解析雪花 ID 提取发布时间
  - 少数派(sspai)：通过 RSS feed 获取发布时间
  - 36kr：使用 `extra.date` 字段
- **智能兜底机制**：无法获取精确时间时，使用数据块更新时间作为兜底
- **并发请求优化**：使用 `p-limit` 控制并发数，平衡性能与稳定性

### 技术改进
- 新增 `useVisitedLinks` hook，管理已读状态和阅读历史
- 新增 `useFavorites` hook，管理收藏状态和收藏列表
- 新增 `exportToJson` 工具函数，支持导出数据为 JSON 文件
- 添加数据迁移逻辑，兼容旧版 localStorage 数据格式
- 新增 `ConfirmDialog` 组件用于确认操作
- 新增 `ReadingHistoryModal` 组件展示阅读历史
- 新增 `FavoritesModal` 组件展示收藏列表

---

## [1.0.0] - 2026-02-21

### 功能
- AI 资讯聚合展示
- 多平台数据源支持
- 24小时/7天时间范围切换
- 平台和订阅源筛选
- 搜索功能
- 深色/浅色主题切换
